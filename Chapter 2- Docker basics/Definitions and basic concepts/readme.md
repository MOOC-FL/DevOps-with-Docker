#### Running containers​
- `docker conatiner run hello-world`
- `docker container run` has shorthand for `docker run`
```bash
$ docker container run hello-world
```
```bash
$ docker run hello-world
```
#### Docker CLI basics​
| Command | Explain | Shorthand |
|---------|---------|-----------|
| `docker image ls` | Lists all Docker images | `docker images` |
| `docker image rm <image>` | Removes a Docker image | `docker rmi <image>` |
| `docker image pull <image>` | Pulls image from a Docker registry | `docker pull <image>` |
| `docker container ls -a` | Lists all containers (including stopped) | `docker ps -a` |
| `docker container run <image>` | Runs a container from an image | `docker run <image>` |
| `docker container rm <container>` | Removes a container | `docker rm <container>` |
| `docker container stop <container>` | Stops a running container | `docker stop <container>` |
| `docker container exec <container>` | Executes a command inside a running container | `docker exec <container>` |
- We are using the command line to interact with the "Docker Engine" that is made up of 3 parts:
1. command line interface (CLI) client
2. a REST API
3. Docker daemon
- When you run a command, e.g. `docker container run`, behind the scenes the CLI client sends a request to the **Docker daemon** through the **REST API**. The Docker daemon takes care of images, containers and other resources.
> You can read the docs for more information(opens in a new tab)(opens in a new tab). But even though you will find over 50 commands in the documentation, only a handful of them are needed for general use. There's a list of the most commonly used basic commands at the end of this section.
- One of them is already familiar: `docker container run <image>`, which instructs daemon to create a container from the image and downloading the image if it is not available.

- Let's remove the image since we will not need it anymore, `docker image rm hello-world` sounds about right. However, this should fail with the following error:
```bash
$ docker image rm hello-world
  Error response from daemon: conflict: unable to remove repository reference "hello-world" (must force) - container <container ID> is using its referenced image <image ID>
```
- This means that a container that was created from the image hello-world still exists and that removing hello-world could have consequences. So before removing images, you should have the referencing container removed first. Forcing is usually a bad idea, especially as we are still learning.

> Run `docker container ls -a` to list all containers again.
```bash
$ docker container ls -a
  CONTAINER ID   IMAGE           COMMAND        CREATED          STATUS                      PORTS     NAMES
  b7a53260b513   hello-world     "/hello"       35 minutes ago   Exited (0) 35 minutes ago             brave_bhabha
  1cd4cb01482d   hello-world     "/hello"       41 minutes ago   Exited (0) 41 minutes ago             vibrant_bell
```
- Notice that containers have a CONTAINER ID and NAME. The names are currently autogenerated. When we have a lot of different containers, we can use grep (or another similar utility) to filter the list:

```bsh
$ docker container ls -a | grep hello-world
```
- Let's remove the container with `docker container rm` command. It accepts a container's `name` or `ID` as its arguments.

- Notice that the command also works with the first few characters of an `ID.` For example, if a container's ID is `3d4bab29dd67`, you can use `docker container rm 3d `to delete it. Using the shorthand for the ID will not delete multiple containers, so if you have two IDs starting with 3d, a warning will be printed, and neither will be deleted. You can also use multiple arguments: docker container rm id1 id2 id3

- If you have hundreds of stopped containers and you wish to delete them all, you should use `docker container prune`. **Prune** can also be used to remove "dangling" images with `docker image prune`. Dangling images are images that don't have a name and are not used. They can be created manually and are automatically generated during build. Removing them just saves some space.

- And finally you can use `docker system prune` to clear almost everything. We aren't yet familiar with the exceptions that `docker system prune` doesn't remove.

- After removing all of the hello-world containers, `run d`ocker image rm hello-world` to delete the image. You can use `docker image ls` to confirm that the image is not listed.

- You can also use the `image pull` command to download images without running them: so docker `image pull hello-world` would bring the image back to our computer.
 #### new container 
 ```bash
$ docker run nginx
```
- With some containers the command line appears to freeze after pulling and starting the container. This might be because that particular container is now running in the current terminal, blocking the input. You can observe this with `docker container ls` from another terminal. In this situation one can exit by pressing `control + c` and try again with the `-d` flag.
```bash
$ docker run -d nginx
  c7749cf989f61353c1d433466d9ed6c45458291106e8131391af972c287fb0e5
```
- The `-d ` flag starts a container detached, meaning that it runs in the background. The container can be seen with
```bash
$ docker container ls
  CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS               NAMES
  c7749cf989f6        nginx               "nginx -g 'daemon of…"   35 seconds ago      Up 34 seconds       80/tcp              blissful_wright
```
- Now if we try to remove it, it will fail:
```bash
$ docker container rm blissful_wright
  Error response from daemon: You cannot remove a running container c7749cf989f61353c1d433466d9ed6c45458291106e8131391af972c287fb0e5. Stop the container before attempting removal or force remove
```
> We should first stop the container using `docker container stop blissful_wright`, and then use rm.

> Forcing is also a possibility and we can use `docker container rm --force blissful_wright` safely in this case. Again for both of them instead of name we could have used the ID or parts of it, e.g. c77.

> It's common for the Docker daemon to become clogged over time with old images and containers.
